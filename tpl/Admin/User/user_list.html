<extend name="Public:base_new"/>
<block name="title">账户列表</block>
<block name="content">
    <span class="layui-breadcrumb">
        <a href="/">首页</a>
        <a><cite>账户管理</cite></a>
        <a><cite>账户列表</cite></a>
    </span>
    <table class="layui-table">
        <thead>
        <tr>
            <th colspan="8">
                <style>
                    .layui-form-item {
                        margin-left: -30px;
                        margin-bottom: 0;
                    }
                    .layui-form-item .layui-inline {
                        margin-bottom: 0px;
                        margin-right: 0px;
                    }

                </style>
                <form>
                    <div class="layui-form-item">
                        <div class="layui-inline">
                            <label class="layui-form-label">用户昵称</label>
                            <div class="layui-input-inline">
                                <input type="text" name="username" class="layui-input" value="{$username}">
                            </div>
                        </div>
                        <div class="layui-inline">
                            <label class="layui-form-label">手机号</label>
                            <div class="layui-input-inline">
                                <input type="text" name="mobile" class="layui-input" value="{$mobile}">
                            </div>
                        </div>
                        <div class="layui-inline">
                            <button type="submit" class="layui-btn ">搜索</button>
                        </div>
                    </div>
                </form>
            </th>
        </tr>
        </thead>
        <thead>
            <tr>
                <th>用户id</th>
                <th>用户账号</th>
                <th>密码</th>
                <th>手机号码</th>
                <th>安全码</th>
                <th>余额</th>
                <th>注册时间</th>
                <th>上次登录时间</th>
            </tr>
        </thead>
        <tbody>
            <foreach name="data" item="v">
                <tr>
                    <td>{$v['id']}</td>
                    <td>{$v['username']}</td>
                    <td>{$v['password']}</td>
                    <td>{$v['mobile']}</td>
                    <td>{$v['secretcode']}</td>
                    <td>{$v['userbalance']}</td>
                    <td>{$v['create_time']}</td>
                    <td>{$v['last_login_time']}</td>
                </tr>
            </foreach>
        </tbody>
    </table>

    <div class="layui-box layui-laypage layui-laypage-default">{$page}</div>
</block>
<block name="js">
    <script>
        layui.use(['laypage', 'layer'], function() {
            var laypage = layui.laypage
                , layer = layui.layer;
            //总页数低于页码总数
            laypage.render({
                elem: 'demo0'
                ,count: "{}" //数据总数，从服务端得到
                ,jump: function(obj, first){
                    //obj包含了当前分页的所有参数，比如：
                    console.log(obj.curr); //得到当前页，以便向服务端请求对应页的数据。
                    console.log(obj.limit); //得到每页显示的条数

                    //首次不执行
                    if(!first){
                        //do something
                    }
                }
            });
        });
    </script>
</block>